<nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
  <a class="navbar-brand me-auto" routerLink='/'>Budget Brings Balance</a>
    <ng-container *ngIf="accountService.currentUser$ |async">
        <div class="loggedInNaviLinks-ul" >
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link" routerLink='/wallets' routerLinkActive='active'>Wallets</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" routerLink='/payments' routerLinkActive='active'>Payments</a>
            </li>
          </ul>
        </div>
      </ng-container>
      <div class="containter">
        <ul class="navbar-nav" >
          <form *ngIf="(accountService.currentUser$ |async) === null" #loginForm="ngForm" class="form-inline mt-2 mt-md-0 me-auto" (ngSubmit)="login()" autocomplete="off">
            <div [formGroup]="user" class="stuff-xd">
              <ul class="navbar-nav me-auto mb-2 mb-md-0" >
                <div>
                  <input [class.is-invalid] = "user.get('email')!.invalid && user.get('email')!.touched"
                  name="mail"
                  class="form-control me-2"
                  formControlName="email"
                  type="email"
                  placeholder="Email"/>
                  <div *ngIf="(email!.invalid && email!.touched) || email!.dirty">
                    <small *ngIf="email!.errors?.['pattern']" class="text-danger">Invalid email</small>
                  </div>
                </div>
                <div>
                  <input [class.is-invalid] = "user.get('password')!.invalid && user.get('password')!.touched"
                  name="password"
                  formControlName="password"
                  class="form-control me-2"
                  type="password"
                  placeholder="Password"/><div class="form-check">
                    <input class="form-check-input" type="checkbox" value="rememberMeButton" id="flexCheckDefault">
                    <label class="form-check-label" for="flexCheckDefault">
                      Remember me
                    </label>
                  </div>

                </div>
                <button class="btn btn-outline-success me-auto" type="submit" [disabled]="email!.invalid">Login</button>
              </ul>
            </div>
          </form>
          <div>
            <div *ngIf="(accountService.currentUser$ |async) === null">

              <button class="btn btn-outline-info me-auto" (click)="register()" >Sign Up</button>
            </div>
            <div *ngIf="(accountService.currentUser$ |async) null">
              <button class="btn btn-outline-info me-auto" (click)="logout()" >Log out</button>
            </div>
          </div>
      </ul>
  </div>
</nav>
